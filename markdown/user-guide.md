# User Guide

```{admonition} Welcome
:class: tip
Welcome to our executable book! Before you start reading the book, here is a quick walkthrough of the structure of this book and how to use it. Hope this can help you make the most out of it.
```

## How the Book Works

This is an executable Jupyter book. Most sections of this book are written in Jupyter Notebook, which means they are a combination of code and markdown cells. This book not only shows how optimal policies are calculated, but also allows users to interact with our policy functions and see how they change under different macroeconomic environments by changing the inputs yourself.

## How to Run the Code

To run the code online, simply click on the ![rocket](../images/rocket_logo.png) button on the top right of each Jupyter Notebook section. You won't see this icon for certain pages if they are not rendered from Jupyter Notebook.

Under the rocket button, there are two options:

1. **Binder**: this option launches a new page on [mybinder.org] for you to run the code.

1. **Live Code**: this option turns the current page into an interactive environment by using [Thebe](https://thebe.readthedocs.io/en/latest/).

```{note}
Both options create a remote kernel on [Binder](https://mybinder.org/). What Binder does is hosting the notebooks on servers. This allows users to interact with the code, modify the inputs, and see how outputs change accordingly  without having to download them and run them locally.
```

## Where the Source Code is Stored

The source code is hosted on Github. You can find it by using [this link](https://github.com/pascalmichaillat/public-expenditure) or by clicking the **repository** option under the ![github](../images/github_logo.png) icon on the top right of the page. 

Once you are in the repo, you can find the notebooks [here](../notebooks) under the **notebooks** folder. Output produced by the notebooks are stored [here](../notebooks/output/) in the **notebooks/output** folder.

```{note}
If you find something wrong with the code, or are confused about certain implementations, you can also raise an issue by clicking the **open issue** button. 
```

## How to Download Data Generated by the Notebooks

It might be useful for you to change the inputs of the model using our interactive tools and download the new set of policy recommendations. Fortunately, Binder allows us to do that. You can download outputs of the model by following these steps: 

1. Click on the **Binder** option  under the ![rocket](../images/rocket_logo.png) button. 
1. Run the notebooks with the Binder kernel, modify the parameters you want tochange, and write your output onto your binder kernel in your desired format. We will put in place code segments that help you store your outputs, but feel free to change them to suit your needs. 
1. After you write the outputs in Binder, click on the `Jupyter` logo on the top left corner of your Binder page. This redirects you to the file directory. You can now find the newly created output files under the output directory that you set and download them onto your computer!

```{note}
If you don't plan on changing any input of the model, you can find existing output files in the **notebooks/output** folder in the Github repository.
```

## Where the Functions are Defined

Since we use one notebook for each section, and there are functions used by multiple notebooks, we decided to put all our reusable functions in the [Helper Functions](../notebooks/helpers) section. This section defines all the functions used in the chapter, and provides detailed documentation and references of how each function works. 

## How Users Can Contribute to the Book

You can also contribute to the book! 


```{seealso}
If you are interested in contributing to the book, checkout [here](https://github.com/MarcDiethelm/contributing/blob/master/README.md) for a guide on how to contribute to Github projects and [this Wiki page](https://github.com/pascalmichaillat/public-expenditure/wiki/Jupyter-Book-Work-Flow-and-Tricks) for some useful Jupyter book tricks. We would love to have your input!
```